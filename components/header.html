<header>
    <nav class="main-nav">
        <a href="index.html" class="logo" id="logo-link">
            <div style="width: 40px; height: 40px; background-color: var(--primary-purple); border-radius: 50%; color: #fff; display: flex; align-items: center; justify-content: center; font-weight: bold;">MT</div>
        </a>
        <ul class="nav-links">
            <li><a href="pages/maedchentreff.html" id="nav-maedchentreff">Mädchentreff</a></li>
            <li><a href="pages/u16-wahlen.html" id="nav-u16-wahlen">U16 - Wahlen 2025</a></li>
            <li><a href="pages/aktivitaeten.html" id="nav-aktivitaeten">Aktivitäten</a></li>
            <li class="dropdown">
                <a href="#" id="nav-projekte">Projekte</a>
                <ul class="dropdown-content">
                    <li><a href="pages/projekte-self.html" id="nav-projekte-self">SELF</a></li>
                    <li><a href="pages/projekte-girls-talk.html" id="nav-projekte-girls-talk">Girls Talk</a></li>
                </ul>
            </li>
            <li class="dropdown">
                <a href="#" id="nav-ueber-uns">Über Uns</a>
                <ul class="dropdown-content">
                    <li><a href="impressum.html" id="nav-impressum">Impressum</a></li>
                </ul>
            </li>
            <li><a href="pages/kontakt.html" id="nav-kontakt">Kontakt</a></li>
            <li><a href="pages/frauenberatungsstellen.html" id="nav-frauenberatungsstellen">Frauenberatungsstellen</a></li>
        </ul>
    </nav>
    <script>
        // Fix navigation paths for subpages and highlight current page
        (function() {
            // Fix paths for subpages
            if (window.location.pathname.includes('/pages/')) {
                document.querySelectorAll('nav a').forEach(function(link) {
                    const href = link.getAttribute('href');
                    if (href && !href.startsWith('#') && !href.startsWith('http') && !href.startsWith('../')) {
                        if (href.startsWith('pages/')) {
                            link.setAttribute('href', href.replace('pages/', ''));
                        } else if (!href.startsWith('.')) {
                            link.setAttribute('href', '../' + href);
                        }
                    }
                });
                
                // Fix logo link
                const logoLink = document.getElementById('logo-link');
                if (logoLink) {
                    logoLink.setAttribute('href', '../index.html');
                }
            }
            
            // Highlight current page in navigation
            const path = window.location.pathname;
            const filename = path.substring(path.lastIndexOf('/') + 1);
            
            // Remove .html extension for matching
            const pageName = filename.replace('.html', '');
            
            // Handle special case for home page
            if (pageName === 'index' || pageName === '') {
                const homeNav = document.getElementById('nav-home');
                if (homeNav) homeNav.classList.add('active');
                return;
            }
            
            // Try to find and highlight the current page
            const navElement = document.getElementById('nav-' + pageName);
            if (navElement) {
                navElement.classList.add('active');
            }
            
            // For dropdown items, also highlight the parent
            if (pageName.startsWith('projekte-')) {
                const projekteNav = document.getElementById('nav-projekte');
                if (projekteNav) projekteNav.classList.add('active');
            }
        })();
    </script>
</header>
